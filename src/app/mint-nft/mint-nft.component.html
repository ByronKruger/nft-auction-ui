<form [formGroup]="form">
    <!-- <div> -->
    <app-form-inputs-container>
        <div class="flex justify-center mb-4">
            <h1 class="text-2xl">Mint an NFT</h1>
        </div>

        <app-image-uploader
            [imageSendUrl]="nftImageSendUrl"
            (imageSendResponse)="handleImageSendResponse($event)"></app-image-uploader>

        <mat-form-field class="max-lg:w-[400px] w-[500px]">
            <mat-label>Description</mat-label>
            <input matInput formControlName="description">
            <mat-hint>{{"Add a description for the new NFT."}}</mat-hint>
            <mat-error>{{decriptionErrorMessage()}}</mat-error>
        </mat-form-field>

        <mat-form-field class="max-lg:w-[400px] w-[500px]">
            <mat-label>Brief description</mat-label>
            <input matInput formControlName="shortDescription">
            <mat-hint>{{"Add a brief description for the NFT."}}</mat-hint>
            <mat-error>{{shortDescriptionErrorMessage()}}</mat-error>
        </mat-form-field>

        <mat-form-field class="max-lg:w-[400px] w-[500px]">
            <mat-label>Artist name</mat-label>
            <input matInput formControlName="artistName">
            <mat-hint>{{"Provide the NFT artist's name."}}</mat-hint>
            <mat-error>{{artistNameErrorMessage()}}</mat-error>
        </mat-form-field>

        @if (nftStore.loading()) {
        <div class="mb-8">
            <mat-spinner></mat-spinner>
        </div>
        }

        <app-common-button>
            <button mat-flat-button color="primary" (click)="onSubmit()" class="w-[250px]">Mint Nfts</button>
        </app-common-button>
    </app-form-inputs-container>
    <!-- </div> -->
</form>

<div class="flex flex-wrap justify-start bg-pink-100 mt-4">
    @for(nft of newNfts(); track nft) {
        <div class="flex flex-col mr-5 mb-5">
            <img src="/assets/imgs/nebula.jpg" class="h-auto w-[320px] rounded-lg"/>
            <p>{{nft.description}}</p>
            <!-- <p>{{nft.id}}</p> -->
        </div>
    }
</div>

<!-- {{ "loading:" + nftStore.loading() }}
{{ nftStore.mintedNft() | json }} -->